
<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test API - Prevor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
      .hidden{display:none;}
    </style>
  </head>
  <body >
      <header>
        <h1>Défibrillateurs </h1>
        <p>Provider : <strong>SIPPT</strong> / City : <strong>Liège</strong></p>
      </header>
      <main>
        <!-- 
        Table to display fetched user data 
        -->
        <input type="text" class="table-filter" data-table="order-table" placeholder="Item to filter.." />
          
        </table>
        <table class="table table-striped order-table" id="defibrillateurs">
          <tbody>
            <tr>
              <th>Identifiant</th>
              <th>Street name</th>
              <th>House number</th>
              <th>Postal code</th>
              <th>Floor</th>
              <th>Created</th>
              <th>Last modified</th>
              <th>Street code</th>
              <th>Icar address (ID) </th>
              <th>Icar street (ID)</th>
              <th class="hidden">City</th>
              <th class="hidden">Provider</th>
              </tr>
          </tbody>
        </table>
      </main>
      <footer>
        <p>© 2023 Données fournies par l'<a href="https://opendata.liege.be/explore/dataset/defibrillateurs/information/"  target="_blank">API Open Data Liège (Les défibrillateurs)</a>.</p>
      </footer>
      <script src="./scripts/search.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
      <script >
        (function () {
          'use strict';
        
          let TableFilter = function () {
            let Arr = Array.prototype;
            let input;
        
            function onInputEvent(e) {
              input = e.target;
              let table1 = document.getElementsByClassName(input.getAttribute('data-table'));
              Arr.forEach.call(table1, function (table) {
                Arr.forEach.call(table.tBodies, function (tbody) {
                  Arr.forEach.call(tbody.rows, filter);
                });
              });
            }
        
            function filter(row) {
              let text = row.textContent.toLowerCase();
              //console.log(text);
              let val = input.value.toLowerCase();
              //console.log(val);
              row.style.display = text.indexOf(val) === -1 ? 'none' : 'table-row';
            }
        
            return {
              init: function () {
                let inputs = document.getElementsByClassName('table-filter');
                Arr.forEach.call(inputs, function (input) {
                  input.oninput = onInputEvent;
                });
              } };
        
        
          }();
        
          /*console.log(document.readyState);
          document.addEventListener('readystatechange', function() {
          if (document.readyState === 'complete') {
              console.log(document.readyState);
            TableFilter.init();
          }
          }); */
        
          TableFilter.init();
        })();
        //# sourceURL=pen.js
      </script>
        
    </body>
</html>
